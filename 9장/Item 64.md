# 아이템 64. 객체는 인터페이스를 사용해 참조하라. 

> 적합한 인터페이스만 있다면 매개변수뿐 아니라 반환값, 변수, 필드를 전부 인터페이스 타입으로 선언하라. 

인터페이스를 타입으로 사용한다면 프로그램이 훨씬 유연해진다. 
객체의 실제 클래스를 사용해야할 상황은 오직 생성자로 생성할 때 뿐이다. 
### 예시 코드 
~~~java
// 좋은 예
Set<Son> sonSet = new LinkedHashSet<>();

// 나쁜 예
LinkedHashSet<Son> sonSet = new LinkedHashSet<>();
~~~

만약, 아래와 같이 구현 클래스를 바꾼다면..?
~~~java
Set<Son> sonSet = new HashSet<>();
~~~
- 구체적인 구현 클래스에 직접적으로 의존하고 있다. (의존성 역전원칙 위배)

### 주의할 점 
원래의 클래스가 특별한 기능을 제공하며, 주변 코드가 이 기능을 사용한다면, 새로운 클래스도 반드시 같은 기능을 제공해야 한다. 


### 적합한 인터페이스가 없는 대표적인 경우(클래스를 참조하는 경우)
1. 값 클래스
   - String, BigInteger 와 같은 값 클래스를 여러가지로 구현될 수 있다고 생각하고 설계하는 일은 거의 없다.
   - final 인 경우가 많고, 상응하는 인터페이스가 별도로 존재하는 경우가 드물다.
   - 매개변수, 변수, 필드, 반환 타입으로 사용해도 무방하다. 

2. 클래스 기반으로 작성된 프레임 워크가 제공하는 객체
    - OutputStream 등 java.io 패키지의 여러 클래스가 이 부류에 속한다.

3. 인터페이스에 없는 특별한 메서드를 제공하는 클래스 
    - PriorityQueue 의 compare 는 일반 Queue 에서 제공하지 않는다. 
    - 클래스 타입을 직접 사용하는 경우는 이런 추가 메서드를 꼭 사용해야 하는 경우를 최소화해야 한다. 
      - 특정 클래스에 의존하여, 유연성과 확장성을 감소

   
## 결론
적합한 인터페이스가 있다면 전부 인터페이스 타입으로 선언하라. 없다면, 클래스의 계층구조 중 필요한 기능을 만족하는 가장 덜 구체적인(상위의)클래스를 타입으로 사용하자. 
